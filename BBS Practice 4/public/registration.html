<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
    <title>더큰내일센터 업프로젝트</title>
</head>
<body class = "login-main">
    <div class = "container login-main_flexbox">
        <div>
            <div class="mb-3">
                <input type="text" class="form-control" placeholder="name" id="name-new">
            </div>
            <div class="mb-3">
                <input type="email" class="form-control" placeholder="email" id="email-new">
            </div>
            <div class="mb-3">
                <input type="password" class="form-control" placeholder="password" id="pw-new">
            </div>
            <div class="mb-3 reg-btn-area">
                <button type="submit" class="btn btn-secondary" id="register">가입하기</button>
            </div>
            
        </div>
    </div>
    
    <script src="https://www.gstatic.com/firebasejs/8.6.5/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.5/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.5/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.5/firebase-storage.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <script src="main.js"></script>
    <script>
        
        $('#register').click(function(){
            let email = $('#email-new').val()
            let password = $('#pw-new').val()
            let userName = $('#name-new').val()
            let userDetail = {
                displayName : userName,
            }

            firebase.auth().createUserWithEmailAndPassword(email, password)
        .then((result)=>{
            let = result.user
            console.log(result.user)
            result.user.updateProfile( userDetail)
            setTimeout(() => {
                window.location.href = "/auth.html"
            }, 1000);

        })
        .catch((err)=>{
            let errorCode = error.code;
            let errorMessage = error.message
            console.log('에러코드:',errorCode)
            console.log('에러코드:',errorMessage)
        })
        })

        

    </script>
</body>
</html>